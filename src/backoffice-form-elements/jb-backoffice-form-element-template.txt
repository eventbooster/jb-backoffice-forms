/**
* Adds distributed calls to image upload/list component
*/
( function() {

	'use strict';

	angular

	.module( 'jb.backofficeFormComponents' )

	/**
	* <input data-backoffice-image-component 
	*	data-for="enity">
	*/
	.directive( 'backofficeImageComponent', [ function() {

		return {
			require				: [ 'backofficeImageInput', '^detailView' ]
			, controller		: 'BackofficeImageInputController'
			, controllerAs		: 'backofficeImageInput'
			, bindToController	: true
			, link				: function( scope, element, attrs, ctrl ) {
				ctrl[ 0 ].init( element, ctrl[ 1 ] );
			}
			, scope: {
				'suggestionTemplate'	: '@'
				, 'searchField'			: '@'
				, 'propertyName'		: '@for'
			}

		};

	} ] )

	.controller( 'BackofficeImageComponentController', [ '$scope', function( $scope ) {

		var self = this
			, _element
			, _detailViewController;

		self.init = function( el, detailViewCtrl ) {
			_element = el;
			_detailViewController = detailViewCtrl;
		};

		alert('ok');

	} ] );


} )();

